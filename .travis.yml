dist: trusty
language: c
sudo: false

addons:
  apt:
    packages:
      - texinfo

script:
  - make setup
  #- travis_wait 90 make toolchain_build GENDEV=".toolchain" SUDO=""
  - cd work
  - make -f ../gen_gcc/makefile-gen build-m68k-binutils
  - make -f ../gen_gcc/makefile-gen build-m68k-gcc-pass1
  - make -f ../gen_gcc/makefile-gen build-m68k-newlib
  - make -f ../gen_gcc/makefile-gen build-m68k-gcc-pass2
  - GENDEV=".toolchain" make .toolchain/ldscripts
  - GENDEV=".toolchain" make tools
  - GENDEV=".toolchain" make sgdk_build
